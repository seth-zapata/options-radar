# Alpaca API Credentials
# Get from https://app.alpaca.markets/
ALPACA_API_KEY=your_api_key_here
ALPACA_SECRET_KEY=your_secret_key_here

# Use paper trading for development (true/false)
ALPACA_PAPER=true

# ORATS API Token (for Greeks data)
# Get from https://orats.com/
ORATS_API_TOKEN=your_orats_token_here

# Finnhub API Key (for news sentiment)
# Get from https://finnhub.io/
FINNHUB_API_KEY=your_finnhub_key_here

# Quiver API Key (for social sentiment)
# Get from https://www.quiverquant.com/
QUIVER_API_KEY=your_quiver_key_here

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Auto-Execution Settings
# Trading mode: "simulation" (mock trades), "paper" (Alpaca paper), "off" (disabled)
TRADING_MODE=simulation

# Set to true to enable automatic order execution when signals fire
AUTO_EXECUTE=true

# Position sizing (% of portfolio per trade)
AUTO_EXECUTE_POSITION_SIZE=10.0

# Maximum concurrent positions
AUTO_EXECUTE_MAX_POSITIONS=3

# =============================================================================
# Risk Management Improvements
# =============================================================================

# Improvement 1: Earnings Blackout
# Block trades near earnings to avoid binary event risk
EARNINGS_BLACKOUT_ENABLED=true
EARNINGS_BLACKOUT_DAYS=5
EARNINGS_POST_BLACKOUT_DAYS=1

# Improvement 2: VIX Regime Filter
# Reduce/block trading during market panic
VIX_ENABLED=true
VIX_PANIC_THRESHOLD=35
VIX_ELEVATED_THRESHOLD=25

# Improvement 3: Trading Hours Optimization
# Block noisy market open/close periods
TRADING_HOURS_ENABLED=true
BLOCK_MARKET_OPEN_MINUTES=30
BLOCK_MARKET_CLOSE_MINUTES=15

# Improvement 4: Dynamic Position Sizing
# Size positions based on signal conviction
DYNAMIC_SIZING_ENABLED=true
BASE_POSITION_SIZE=0.10
MAX_POSITION_SIZE=0.15
MIN_POSITION_SIZE=0.05

# Improvement 5: Price-Sentiment Divergence Gate (Bear Market Protection)
# Blocks bullish signals when price action indicates bear market
# This prevents buying calls when sentiment stays bullish but price is crashing
PRICE_SENTIMENT_DIVERGENCE_ENABLED=true
BEAR_DRAWDOWN_THRESHOLD=0.80        # Block if price < 80% of 52-week high (20% drawdown)
BEAR_SMA_THRESHOLD=0.95             # Block if price < 95% of 200-day SMA
BEAR_SMA_DAYS_REQUIRED=10           # Must be below SMA for X consecutive days
DEATH_CROSS_LOOKBACK_DAYS=60        # Consider death cross if within X days
